(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const n of s)if(n.type==="childList")for(const h of n.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&r(h)}).observe(document,{childList:!0,subtree:!0});function i(s){const n={};return s.integrity&&(n.integrity=s.integrity),s.referrerPolicy&&(n.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?n.credentials="include":s.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function r(s){if(s.ep)return;s.ep=!0;const n=i(s);fetch(s.href,n)}})();var a=function(t,e,i,r){if(i==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return i==="m"?r:i==="a"?r.call(t):r?r.value:e.get(t)},X=function(t,e,i,r,s){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?s.call(t,i):s?s.value=i:e.set(t,i),i},d;class P{constructor(){d.set(this,[[],[],[],[],[]]),this.gameOn=!1,this.gameOver=!1,this.movingPlayer="X",this.singlePlayer=!0,this.xPieces=4,this.OPieces=4,this.gridStartX=1,this.gridStartY=1,this.moveMade=!1}get board(){return a(this,d,"f")}toggleGameMode(){this.singlePlayer=!this.singlePlayer}makeAMove(e,i){a(this,d,"f")[e][i]===void 0&&this.isInGrid(e,i)&&(this.movingPlayer==="X"&&this.xPieces>0||this.movingPlayer==="O"&&this.OPieces>0)?(a(this,d,"f")[e][i]=this.movingPlayer,this.movingPlayer==="X"?this.xPieces=this.xPieces-1:this.OPieces=this.OPieces-1,this.switchPlayer()):this.showMoveError()}removePiece(e,i){a(this,d,"f")[e][i]=void 0,this.movingPlayer==="X"?this.xPieces++:this.OPieces++}isInGrid(e,i){return e>=this.gridStartX&&e<this.gridStartX+3&&i>=this.gridStartY&&i<this.gridStartY+3}moveLeft(){this.gridStartY>0&&this.xPieces<=2&&this.OPieces<=2?(this.gridStartY--,this.switchPlayer()):this.showMoveError()}moveRight(){this.gridStartY+3<5&&this.xPieces<=2&&this.OPieces<=2?(this.gridStartY++,this.switchPlayer()):this.showMoveError()}moveUp(){this.gridStartX>0&&this.xPieces<=2&&this.OPieces<=2?(this.gridStartX--,this.switchPlayer()):this.showMoveError()}moveDown(){this.gridStartX+3<5&&this.xPieces<=2&&this.OPieces<=2?(this.gridStartX++,this.switchPlayer()):this.showMoveError()}showMoveError(){alert("You cant move there lil bro.")}switchPlayer(){this.movingPlayer=this.movingPlayer==="X"?"O":"X",this.moveMade=!0}checkWin(){const e=i=>{for(let r=this.gridStartX;r<this.gridStartX+3;r++)if(a(this,d,"f")[r][this.gridStartY]===i&&a(this,d,"f")[r][this.gridStartY+1]===i&&a(this,d,"f")[r][this.gridStartY+2]===i)return!0;for(let r=this.gridStartY;r<this.gridStartY+3;r++)if(a(this,d,"f")[this.gridStartX][r]===i&&a(this,d,"f")[this.gridStartX+1][r]===i&&a(this,d,"f")[this.gridStartX+2][r]===i)return!0;return a(this,d,"f")[this.gridStartX][this.gridStartY]===i&&a(this,d,"f")[this.gridStartX+1][this.gridStartY+1]===i&&a(this,d,"f")[this.gridStartX+2][this.gridStartY+2]===i||a(this,d,"f")[this.gridStartX][this.gridStartY+2]===i&&a(this,d,"f")[this.gridStartX+1][this.gridStartY+1]===i&&a(this,d,"f")[this.gridStartX+2][this.gridStartY]===i};return e("X")?(this.gameOver=!0,"X"):e("O")?(this.gameOver=!0,"O"):null}makeAIMove(){let e=this.getRandomInRange(this.gridStartX,this.gridStartX+2),i=this.getRandomInRange(this.gridStartY,this.gridStartY+2),r=this.getRandomInRange(0,3),n=["down","up","left","right"][r];if(!this.gameOver)if(this.OPieces>0)a(this,d,"f")[this.gridStartX+1][this.gridStartY+1]===void 0?(a(this,d,"f")[this.gridStartX+1][this.gridStartY+1]="O",this.OPieces--):a(this,d,"f")[this.gridStartX][this.gridStartY]===void 0?(a(this,d,"f")[this.gridStartX][this.gridStartY]="O",this.OPieces--):a(this,d,"f")[this.gridStartX+2][this.gridStartY]===void 0?(a(this,d,"f")[this.gridStartX+2][this.gridStartY]="O",this.OPieces--):a(this,d,"f")[this.gridStartX+2][this.gridStartY+2]===void 0?(a(this,d,"f")[this.gridStartX+2][this.gridStartY+2]="O",this.OPieces--):a(this,d,"f")[e][i]===void 0&&(a(this,d,"f")[e][i]="O",this.OPieces--),this.switchPlayer();else if(this.xPieces<=2&&this.OPieces<=2)if(n==="up"&&this.gridStartX>0)this.moveUp();else if(n==="down"&&this.gridStartX+3<5)this.moveDown();else if(n==="right"&&this.gridStartY+3<5)this.moveRight();else if(n==="left"&&this.gridStartY>0)this.moveLeft();else return;else if(a(this,d,"f")[e][i]==="O")this.removePiece(e,i),e=this.getRandomInRange(this.gridStartX,this.gridStartX+2),i=this.getRandomInRange(this.gridStartY,this.gridStartY+2),a(this,d,"f")[e][i]===void 0&&(a(this,d,"f")[e][i]="O",this.switchPlayer());else return}getRandomInRange(e,i){return Math.floor(Math.random()*(i-e)+e)}resetGame(){X(this,d,[[],[],[],[],[]],"f"),this.gameOn=!1,this.gameOver=!1,this.movingPlayer="X",this.xPieces=4,this.OPieces=4,this.gridStartX=1,this.gridStartY=1,this.moveMade=!1}}d=new WeakMap;let o=new P;console.log("hi");let E=b();document.body.appendChild(E);let M=O(o);document.body.appendChild(M);let Y=w(o);document.body.appendChild(Y);let T=p(o,o.board,S);document.body.appendChild(T);function c(){let t=document.getElementById("board");if(t){let e=p(o,o.board,S);t.replaceWith(e)}}function S(t,e,i){o.board[t][e]===void 0?(o.makeAMove(t,e),i.target.innerHTML=o.board[t][e]||"&nbsp;"):o.board[t][e]===o.movingPlayer?o.removePiece(t,e):o.showMoveError(),u();let r=o.checkWin();r&&o.singlePlayer===!1&&setTimeout(()=>{alert(`Game over! ${r} wins!`),console.log(r)},100),c()}function u(){o.singlePlayer===!0&&o.movingPlayer==="O"&&!o.gameOver&&setTimeout(()=>{o.makeAIMove();let t=o.checkWin();t&&setTimeout(()=>{alert(`Game over! ${t} wins!`),console.log(t)},100),c()},1e3)}function b(){let t=document.createElement("h1");return t.innerHTML="Tic Tac Two",t.id="title",t.classList.add("row"),t}function p(t,e,i){let r=document.createElement("div");r.classList.add("board"),r.id="board";let s=document.createElement("div");s.classList.add("row","info"),s.innerHTML=`moving: ${t.movingPlayer} &nbsp;&nbsp;|&nbsp;&nbsp; X pieces: ${t.xPieces} &nbsp;&nbsp;|&nbsp;&nbsp; O pieces: ${t.OPieces}`,r.appendChild(s);for(let n=0;n<5;n++){let h=document.createElement("div");h.classList.add("row");for(let f=0;f<5;f++){let m=document.createElement("div");m.classList.add("col"),t.isInGrid(n,f)&&m.classList.add("grid-sq"),m.addEventListener("click",g=>{i(n,f,g)}),m.innerHTML=e[n][f]||" ",h.appendChild(m)}r.appendChild(h)}return r}function w(t){let e=document.createElement("div");e.classList.add("row");let i=document.createElement("div");i.classList.add("small-btn","m-3"),i.innerHTML="&#8592;",i.addEventListener("click",()=>{t.moveLeft(),c(),u()}),e.appendChild(i);let r=document.createElement("div");r.classList.add("small-btn","m-3"),r.innerHTML="&#8594;",r.addEventListener("click",()=>{t.moveRight(),c(),u()}),e.appendChild(r);let s=document.createElement("div");s.classList.add("small-btn","m-3"),s.innerHTML="&#8593;",s.addEventListener("click",()=>{t.moveUp(),c(),u()}),e.appendChild(s);let n=document.createElement("div");return n.classList.add("small-btn","m-3"),n.innerHTML="&#8595;",n.addEventListener("click",()=>{t.moveDown(),c(),u()}),e.appendChild(n),e}function O(t){let e=document.createElement("div");e.classList.add("row");let i=document.createElement("div");i.classList.add("small-btn","big-btn","m-3");const r=()=>{i.innerHTML=t.singlePlayer===!1?"multiplayer":"single player",i.style.backgroundColor=t.singlePlayer===!1?"#3498db":"#2ecc71"};r(),i.addEventListener("click",()=>{t.toggleGameMode(),r(),c()}),e.appendChild(i);let s=5;const n=document.createElement("div");n.classList.add("small-btn","timer"),e.appendChild(n),n.textContent=s.toString();let h;function f(){h&&clearInterval(h),h=setInterval(()=>{s--,n.textContent=s.toString(),t.moveMade?(s=5,t.moveMade=!1,n.textContent=s.toString()):s===0&&(alert("you didnt move, sleepy! switching players"),t.switchPlayer(),c(),s=5,n.textContent=s.toString(),u()),t.gameOver&&(clearInterval(h),h=void 0)},1e3)}function m(){h&&(clearInterval(h),h=void 0),s=5,n.textContent=s.toString()}let g=document.createElement("div");g.classList.add("small-btn","big-btn","m-3"),g.innerHTML="press to start timer";let v=document.createElement("div");return v.classList.add("small-btn","big-btn","m-3"),v.style.backgroundColor="#e74c3c",v.innerHTML="reset",g.addEventListener("click",()=>{t.gameOn||(t.gameOn=!0,t.gameOver=!1,f(),c())}),v.addEventListener("click",()=>{t.resetGame(),m(),c()}),e.appendChild(g),e.appendChild(v),e}let l=new P;console.log("hi");let C=b();document.body.appendChild(C);let I=O(l);document.body.appendChild(I);let R=w(l);document.body.appendChild(R);let B=p(l,l.board,L);document.body.appendChild(B);function y(){let t=document.getElementById("board");if(t){let e=p(l,l.board,L);t.replaceWith(e)}}function L(t,e,i){l.board[t][e]===void 0?(l.makeAMove(t,e),i.target.innerHTML=l.board[t][e]||"&nbsp;"):l.board[t][e]===l.movingPlayer?l.removePiece(t,e):l.showMoveError(),G();let r=l.checkWin();r&&l.singlePlayer===!1&&setTimeout(()=>{alert(`Game over! ${r} wins!`),console.log(r)},100),y()}function G(){l.singlePlayer===!0&&l.movingPlayer==="O"&&!l.gameOver&&setTimeout(()=>{l.makeAIMove();let t=l.checkWin();t&&setTimeout(()=>{alert(`Game over! ${t} wins!`),console.log(t)},100),y()},1e3)}
